{"version":3,"sources":["../../../../graphql/schema/book/_mutation.js"],"names":["Mutation","gql","mutationTypes","mutationResolvers","addBook","_","title","author","book","bookModel","create","toGraph","deleteBook","id","findByIdAndRemove"],"mappings":";;;;;;;AAAA;;AAEA;;;;AAEA,MAAMA,QAAQ,GAAGC,wBAAI;;;;;CAArB;;AAOO,MAAMC,aAAa,GAAG,MAAM,CAACF,QAAD,CAA5B;;;AAEA,MAAMG,iBAAiB,GAAG;AAC/BH,EAAAA,QAAQ,EAAE;AACRI,IAAAA,OAAO,EAAE,OAAOC,CAAP,EAAU;AAAEC,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAV,KAAgC;AACvC,YAAMC,IAAI,GAAG,MAAMC,eAAUC,MAAV,CAAiB;AAAEJ,QAAAA,KAAF;AAASC,QAAAA;AAAT,OAAjB,CAAnB;AACA,aAAOC,IAAI,CAACG,OAAL,EAAP;AACD,KAJO;AAKRC,IAAAA,UAAU,EAAE,OAAOP,CAAP,EAAU;AAAEQ,MAAAA;AAAF,KAAV,KAAqB;AAC/B,YAAML,IAAI,GAAG,MAAMC,eAAUK,iBAAV,CAA4BD,EAA5B,CAAnB;AACA,aAAOL,IAAI,GAAGA,IAAI,CAACG,OAAL,EAAH,GAAoB,IAA/B;AACD;AARO;AADqB,CAA1B","sourcesContent":["import { gql } from 'apollo-server-express';\n\nimport bookModel from './_model';\n\nconst Mutation = gql`\n  extend type Mutation {\n    addBook(title: String!, author: String!): Book\n    deleteBook(id: String!): Book\n  }\n`;\n\nexport const mutationTypes = () => [Mutation];\n\nexport const mutationResolvers = {\n  Mutation: {\n    addBook: async (_, { title, author }) => {\n      const book = await bookModel.create({ title, author });\n      return book.toGraph();\n    },\n    deleteBook: async (_, { id }) => {\n      const book = await bookModel.findByIdAndRemove(id);\n      return book ? book.toGraph() : null;\n    }\n  }\n};\n"],"file":"_mutation.js"}