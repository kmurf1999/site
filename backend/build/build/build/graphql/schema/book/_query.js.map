{"version":3,"sources":["../../../../graphql/schema/book/_query.js"],"names":["Object","defineProperty","exports","value","queryResolvers","queryTypes","_apolloServerExpress","require","_model","_interopRequireDefault","obj","__esModule","default","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_templateObject","data","_taggedTemplateLiteral","strings","raw","slice","freeze","defineProperties","Query","gql","books","_books","regeneratorRuntime","mark","_callee","_","_ref","_ref$filter","filter","wrap","_callee$","_context","prev","next","find","sent","abrupt","map","book","toGraph","stop","_x","_x2","_book","_callee2","_ref2","id","_callee2$","_context2","findById","_x3","_x4"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,cAAR,GAAyBF,OAAO,CAACG,UAAR,GAAqB,KAAK,CAAnD;;AAEA,IAAIC,oBAAoB,GAAGC,OAAO,CAAC,uBAAD,CAAlC;;AAEA,IAAIC,MAAM,GAAGC,sBAAsB,CAACF,OAAO,CAAC,UAAD,CAAR,CAAnC;;AAEA,SAASE,sBAAT,CAAgCC,GAAhC,EAAqC;AACnC,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AACnCE,IAAAA,OAAO,EAAEF;AAD0B,GAArC;AAGD;;AAED,SAASG,kBAAT,CAA4BC,GAA5B,EAAiCC,OAAjC,EAA0CC,MAA1C,EAAkDC,KAAlD,EAAyDC,MAAzD,EAAiEC,GAAjE,EAAsEC,GAAtE,EAA2E;AACzE,MAAI;AACF,QAAIC,IAAI,GAAGP,GAAG,CAACK,GAAD,CAAH,CAASC,GAAT,CAAX;AACA,QAAIjB,KAAK,GAAGkB,IAAI,CAAClB,KAAjB;AACD,GAHD,CAGE,OAAOmB,KAAP,EAAc;AACdN,IAAAA,MAAM,CAACM,KAAD,CAAN;AACA;AACD;;AAED,MAAID,IAAI,CAACE,IAAT,EAAe;AACbR,IAAAA,OAAO,CAACZ,KAAD,CAAP;AACD,GAFD,MAEO;AACLqB,IAAAA,OAAO,CAACT,OAAR,CAAgBZ,KAAhB,EAAuBsB,IAAvB,CAA4BR,KAA5B,EAAmCC,MAAnC;AACD;AACF;;AAED,SAASQ,iBAAT,CAA2BC,EAA3B,EAA+B;AAC7B,SAAO,YAAY;AACjB,QAAIC,IAAI,GAAG,IAAX;AAAA,QACIC,IAAI,GAAGC,SADX;AAEA,WAAO,IAAIN,OAAJ,CAAY,UAAUT,OAAV,EAAmBC,MAAnB,EAA2B;AAC5C,UAAIF,GAAG,GAAGa,EAAE,CAACI,KAAH,CAASH,IAAT,EAAeC,IAAf,CAAV;;AAEA,eAASZ,KAAT,CAAed,KAAf,EAAsB;AACpBU,QAAAA,kBAAkB,CAACC,GAAD,EAAMC,OAAN,EAAeC,MAAf,EAAuBC,KAAvB,EAA8BC,MAA9B,EAAsC,MAAtC,EAA8Cf,KAA9C,CAAlB;AACD;;AAED,eAASe,MAAT,CAAgBc,GAAhB,EAAqB;AACnBnB,QAAAA,kBAAkB,CAACC,GAAD,EAAMC,OAAN,EAAeC,MAAf,EAAuBC,KAAvB,EAA8BC,MAA9B,EAAsC,OAAtC,EAA+Cc,GAA/C,CAAlB;AACD;;AAEDf,MAAAA,KAAK,CAACgB,SAAD,CAAL;AACD,KAZM,CAAP;AAaD,GAhBD;AAiBD;;AAED,SAASC,eAAT,GAA2B;AACzB,MAAIC,IAAI,GAAGC,sBAAsB,CAAC,CAAC,0GAAD,CAAD,CAAjC;;AAEAF,EAAAA,eAAe,GAAG,SAASA,eAAT,GAA2B;AAC3C,WAAOC,IAAP;AACD,GAFD;;AAIA,SAAOA,IAAP;AACD;;AAED,SAASC,sBAAT,CAAgCC,OAAhC,EAAyCC,GAAzC,EAA8C;AAC5C,MAAI,CAACA,GAAL,EAAU;AACRA,IAAAA,GAAG,GAAGD,OAAO,CAACE,KAAR,CAAc,CAAd,CAAN;AACD;;AAED,SAAOvC,MAAM,CAACwC,MAAP,CAAcxC,MAAM,CAACyC,gBAAP,CAAwBJ,OAAxB,EAAiC;AACpDC,IAAAA,GAAG,EAAE;AACHnC,MAAAA,KAAK,EAAEH,MAAM,CAACwC,MAAP,CAAcF,GAAd;AADJ;AAD+C,GAAjC,CAAd,CAAP;AAKD;;AAED,IAAII,KAAK,GAAG,CAAC,GAAGpC,oBAAoB,CAACqC,GAAzB,EAA8BT,eAAe,EAA7C,CAAZ;;AAEA,IAAI7B,UAAU,GAAG,SAASA,UAAT,GAAsB;AACrC,SAAO,CAACqC,KAAD,CAAP;AACD,CAFD;;AAIAxC,OAAO,CAACG,UAAR,GAAqBA,UAArB;AACA,IAAID,cAAc,GAAG;AACnBsC,EAAAA,KAAK,EAAE;AACLE,IAAAA,KAAK,EAAE,YAAY;AACjB,UAAIC,MAAM,GAAGnB,iBAAiB;AAC9B;AACAoB,MAAAA,kBAAkB,CAACC,IAAnB,CAAwB,SAASC,OAAT,CAAiBC,CAAjB,EAAoBC,IAApB,EAA0B;AAChD,YAAIC,WAAJ,EAAiBC,MAAjB,EAAyBR,KAAzB;;AAEA,eAAOE,kBAAkB,CAACO,IAAnB,CAAwB,SAASC,QAAT,CAAkBC,QAAlB,EAA4B;AACzD,iBAAO,CAAP,EAAU;AACR,oBAAQA,QAAQ,CAACC,IAAT,GAAgBD,QAAQ,CAACE,IAAjC;AACE,mBAAK,CAAL;AACEN,gBAAAA,WAAW,GAAGD,IAAI,CAACE,MAAnB,EAA2BA,MAAM,GAAGD,WAAW,KAAK,KAAK,CAArB,GAAyB,EAAzB,GAA8BA,WAAlE;AACAI,gBAAAA,QAAQ,CAACE,IAAT,GAAgB,CAAhB;AACA,uBAAOjD,MAAM,CAACI,OAAP,CAAe8C,IAAf,CAAoB,EAApB,EAAwB,IAAxB,EAA8BN,MAA9B,CAAP;;AAEF,mBAAK,CAAL;AACER,gBAAAA,KAAK,GAAGW,QAAQ,CAACI,IAAjB;AACA,uBAAOJ,QAAQ,CAACK,MAAT,CAAgB,QAAhB,EAA0BhB,KAAK,CAACiB,GAAN,CAAU,UAAUC,IAAV,EAAgB;AACzD,yBAAOA,IAAI,CAACC,OAAL,EAAP;AACD,iBAFgC,CAA1B,CAAP;;AAIF,mBAAK,CAAL;AACA,mBAAK,KAAL;AACE,uBAAOR,QAAQ,CAACS,IAAT,EAAP;AAdJ;AAgBD;AACF,SAnBM,EAmBJhB,OAnBI,EAmBK,IAnBL,CAAP;AAoBD,OAvBD,CAF8B,CAA9B;;AA2BA,eAASJ,KAAT,CAAeqB,EAAf,EAAmBC,GAAnB,EAAwB;AACtB,eAAOrB,MAAM,CAACd,KAAP,CAAa,IAAb,EAAmBD,SAAnB,CAAP;AACD;;AAED,aAAOc,KAAP;AACD,KAjCM,EADF;AAmCLkB,IAAAA,IAAI,EAAE,YAAY;AAChB,UAAIK,KAAK,GAAGzC,iBAAiB;AAC7B;AACAoB,MAAAA,kBAAkB,CAACC,IAAnB,CAAwB,SAASqB,QAAT,CAAkBnB,CAAlB,EAAqBoB,KAArB,EAA4B;AAClD,YAAIC,EAAJ,EAAQR,IAAR;AACA,eAAOhB,kBAAkB,CAACO,IAAnB,CAAwB,SAASkB,SAAT,CAAmBC,SAAnB,EAA8B;AAC3D,iBAAO,CAAP,EAAU;AACR,oBAAQA,SAAS,CAAChB,IAAV,GAAiBgB,SAAS,CAACf,IAAnC;AACE,mBAAK,CAAL;AACEa,gBAAAA,EAAE,GAAGD,KAAK,CAACC,EAAX;AACAE,gBAAAA,SAAS,CAACf,IAAV,GAAiB,CAAjB;AACA,uBAAOjD,MAAM,CAACI,OAAP,CAAe6D,QAAf,CAAwBH,EAAxB,CAAP;;AAEF,mBAAK,CAAL;AACER,gBAAAA,IAAI,GAAGU,SAAS,CAACb,IAAjB;AACA,uBAAOa,SAAS,CAACZ,MAAV,CAAiB,QAAjB,EAA2BE,IAAI,CAACC,OAAL,EAA3B,CAAP;;AAEF,mBAAK,CAAL;AACA,mBAAK,KAAL;AACE,uBAAOS,SAAS,CAACR,IAAV,EAAP;AAZJ;AAcD;AACF,SAjBM,EAiBJI,QAjBI,EAiBM,IAjBN,CAAP;AAkBD,OApBD,CAF6B,CAA7B;;AAwBA,eAASN,IAAT,CAAcY,GAAd,EAAmBC,GAAnB,EAAwB;AACtB,eAAOR,KAAK,CAACpC,KAAN,CAAY,IAAZ,EAAkBD,SAAlB,CAAP;AACD;;AAED,aAAOgC,IAAP;AACD,KA9BK;AAnCD;AADY,CAArB;AAqEA5D,OAAO,CAACE,cAAR,GAAyBA,cAAzB","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.queryResolvers = exports.queryTypes = void 0;\n\nvar _apolloServerExpress = require(\"apollo-server-express\");\n\nvar _model = _interopRequireDefault(require(\"./_model\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  extend type Query {\\n    books(filter: booksFilterInput): [Book]\\n    book(id: String!): Book\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nvar Query = (0, _apolloServerExpress.gql)(_templateObject());\n\nvar queryTypes = function queryTypes() {\n  return [Query];\n};\n\nexports.queryTypes = queryTypes;\nvar queryResolvers = {\n  Query: {\n    books: function () {\n      var _books = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(_, _ref) {\n        var _ref$filter, filter, books;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _ref$filter = _ref.filter, filter = _ref$filter === void 0 ? {} : _ref$filter;\n                _context.next = 3;\n                return _model.default.find({}, null, filter);\n\n              case 3:\n                books = _context.sent;\n                return _context.abrupt(\"return\", books.map(function (book) {\n                  return book.toGraph();\n                }));\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function books(_x, _x2) {\n        return _books.apply(this, arguments);\n      }\n\n      return books;\n    }(),\n    book: function () {\n      var _book = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(_, _ref2) {\n        var id, book;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                id = _ref2.id;\n                _context2.next = 3;\n                return _model.default.findById(id);\n\n              case 3:\n                book = _context2.sent;\n                return _context2.abrupt(\"return\", book.toGraph());\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function book(_x3, _x4) {\n        return _book.apply(this, arguments);\n      }\n\n      return book;\n    }()\n  }\n};\nexports.queryResolvers = queryResolvers;"],"file":"_query.js"}