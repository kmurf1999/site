{"version":3,"sources":["../../../../graphql/schema/book/_mutation.js"],"names":["Object","defineProperty","exports","value","mutationResolvers","mutationTypes","_apolloServerExpress","require","_model","_interopRequireDefault","obj","__esModule","default","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_templateObject","data","_taggedTemplateLiteral","strings","raw","slice","freeze","defineProperties","Mutation","gql","addBook","_addBook","regeneratorRuntime","mark","_callee","_","_ref","title","author","book","wrap","_callee$","_context","prev","next","create","sent","abrupt","toGraph","stop","_x","_x2","deleteBook","_deleteBook","_callee2","_ref2","id","_callee2$","_context2","findByIdAndRemove","_x3","_x4"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,iBAAR,GAA4BF,OAAO,CAACG,aAAR,GAAwB,KAAK,CAAzD;;AAEA,IAAIC,oBAAoB,GAAGC,OAAO,CAAC,uBAAD,CAAlC;;AAEA,IAAIC,MAAM,GAAGC,sBAAsB,CAACF,OAAO,CAAC,UAAD,CAAR,CAAnC;;AAEA,SAASE,sBAAT,CAAgCC,GAAhC,EAAqC;AACnC,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AACnCE,IAAAA,OAAO,EAAEF;AAD0B,GAArC;AAGD;;AAED,SAASG,kBAAT,CAA4BC,GAA5B,EAAiCC,OAAjC,EAA0CC,MAA1C,EAAkDC,KAAlD,EAAyDC,MAAzD,EAAiEC,GAAjE,EAAsEC,GAAtE,EAA2E;AACzE,MAAI;AACF,QAAIC,IAAI,GAAGP,GAAG,CAACK,GAAD,CAAH,CAASC,GAAT,CAAX;AACA,QAAIjB,KAAK,GAAGkB,IAAI,CAAClB,KAAjB;AACD,GAHD,CAGE,OAAOmB,KAAP,EAAc;AACdN,IAAAA,MAAM,CAACM,KAAD,CAAN;AACA;AACD;;AAED,MAAID,IAAI,CAACE,IAAT,EAAe;AACbR,IAAAA,OAAO,CAACZ,KAAD,CAAP;AACD,GAFD,MAEO;AACLqB,IAAAA,OAAO,CAACT,OAAR,CAAgBZ,KAAhB,EAAuBsB,IAAvB,CAA4BR,KAA5B,EAAmCC,MAAnC;AACD;AACF;;AAED,SAASQ,iBAAT,CAA2BC,EAA3B,EAA+B;AAC7B,SAAO,YAAY;AACjB,QAAIC,IAAI,GAAG,IAAX;AAAA,QACIC,IAAI,GAAGC,SADX;AAEA,WAAO,IAAIN,OAAJ,CAAY,UAAUT,OAAV,EAAmBC,MAAnB,EAA2B;AAC5C,UAAIF,GAAG,GAAGa,EAAE,CAACI,KAAH,CAASH,IAAT,EAAeC,IAAf,CAAV;;AAEA,eAASZ,KAAT,CAAed,KAAf,EAAsB;AACpBU,QAAAA,kBAAkB,CAACC,GAAD,EAAMC,OAAN,EAAeC,MAAf,EAAuBC,KAAvB,EAA8BC,MAA9B,EAAsC,MAAtC,EAA8Cf,KAA9C,CAAlB;AACD;;AAED,eAASe,MAAT,CAAgBc,GAAhB,EAAqB;AACnBnB,QAAAA,kBAAkB,CAACC,GAAD,EAAMC,OAAN,EAAeC,MAAf,EAAuBC,KAAvB,EAA8BC,MAA9B,EAAsC,OAAtC,EAA+Cc,GAA/C,CAAlB;AACD;;AAEDf,MAAAA,KAAK,CAACgB,SAAD,CAAL;AACD,KAZM,CAAP;AAaD,GAhBD;AAiBD;;AAED,SAASC,eAAT,GAA2B;AACzB,MAAIC,IAAI,GAAGC,sBAAsB,CAAC,CAAC,0HAAD,CAAD,CAAjC;;AAEAF,EAAAA,eAAe,GAAG,SAASA,eAAT,GAA2B;AAC3C,WAAOC,IAAP;AACD,GAFD;;AAIA,SAAOA,IAAP;AACD;;AAED,SAASC,sBAAT,CAAgCC,OAAhC,EAAyCC,GAAzC,EAA8C;AAC5C,MAAI,CAACA,GAAL,EAAU;AACRA,IAAAA,GAAG,GAAGD,OAAO,CAACE,KAAR,CAAc,CAAd,CAAN;AACD;;AAED,SAAOvC,MAAM,CAACwC,MAAP,CAAcxC,MAAM,CAACyC,gBAAP,CAAwBJ,OAAxB,EAAiC;AACpDC,IAAAA,GAAG,EAAE;AACHnC,MAAAA,KAAK,EAAEH,MAAM,CAACwC,MAAP,CAAcF,GAAd;AADJ;AAD+C,GAAjC,CAAd,CAAP;AAKD;;AAED,IAAII,QAAQ,GAAG,CAAC,GAAGpC,oBAAoB,CAACqC,GAAzB,EAA8BT,eAAe,EAA7C,CAAf;;AAEA,IAAI7B,aAAa,GAAG,SAASA,aAAT,GAAyB;AAC3C,SAAO,CAACqC,QAAD,CAAP;AACD,CAFD;;AAIAxC,OAAO,CAACG,aAAR,GAAwBA,aAAxB;AACA,IAAID,iBAAiB,GAAG;AACtBsC,EAAAA,QAAQ,EAAE;AACRE,IAAAA,OAAO,EAAE,YAAY;AACnB,UAAIC,QAAQ,GAAGnB,iBAAiB;AAChC;AACAoB,MAAAA,kBAAkB,CAACC,IAAnB,CAAwB,SAASC,OAAT,CAAiBC,CAAjB,EAAoBC,IAApB,EAA0B;AAChD,YAAIC,KAAJ,EAAWC,MAAX,EAAmBC,IAAnB;AACA,eAAOP,kBAAkB,CAACQ,IAAnB,CAAwB,SAASC,QAAT,CAAkBC,QAAlB,EAA4B;AACzD,iBAAO,CAAP,EAAU;AACR,oBAAQA,QAAQ,CAACC,IAAT,GAAgBD,QAAQ,CAACE,IAAjC;AACE,mBAAK,CAAL;AACEP,gBAAAA,KAAK,GAAGD,IAAI,CAACC,KAAb,EAAoBC,MAAM,GAAGF,IAAI,CAACE,MAAlC;AACAI,gBAAAA,QAAQ,CAACE,IAAT,GAAgB,CAAhB;AACA,uBAAOlD,MAAM,CAACI,OAAP,CAAe+C,MAAf,CAAsB;AAC3BR,kBAAAA,KAAK,EAAEA,KADoB;AAE3BC,kBAAAA,MAAM,EAAEA;AAFmB,iBAAtB,CAAP;;AAKF,mBAAK,CAAL;AACEC,gBAAAA,IAAI,GAAGG,QAAQ,CAACI,IAAhB;AACA,uBAAOJ,QAAQ,CAACK,MAAT,CAAgB,QAAhB,EAA0BR,IAAI,CAACS,OAAL,EAA1B,CAAP;;AAEF,mBAAK,CAAL;AACA,mBAAK,KAAL;AACE,uBAAON,QAAQ,CAACO,IAAT,EAAP;AAfJ;AAiBD;AACF,SApBM,EAoBJf,OApBI,EAoBK,IApBL,CAAP;AAqBD,OAvBD,CAFgC,CAAhC;;AA2BA,eAASJ,OAAT,CAAiBoB,EAAjB,EAAqBC,GAArB,EAA0B;AACxB,eAAOpB,QAAQ,CAACd,KAAT,CAAe,IAAf,EAAqBD,SAArB,CAAP;AACD;;AAED,aAAOc,OAAP;AACD,KAjCQ,EADD;AAmCRsB,IAAAA,UAAU,EAAE,YAAY;AACtB,UAAIC,WAAW,GAAGzC,iBAAiB;AACnC;AACAoB,MAAAA,kBAAkB,CAACC,IAAnB,CAAwB,SAASqB,QAAT,CAAkBnB,CAAlB,EAAqBoB,KAArB,EAA4B;AAClD,YAAIC,EAAJ,EAAQjB,IAAR;AACA,eAAOP,kBAAkB,CAACQ,IAAnB,CAAwB,SAASiB,SAAT,CAAmBC,SAAnB,EAA8B;AAC3D,iBAAO,CAAP,EAAU;AACR,oBAAQA,SAAS,CAACf,IAAV,GAAiBe,SAAS,CAACd,IAAnC;AACE,mBAAK,CAAL;AACEY,gBAAAA,EAAE,GAAGD,KAAK,CAACC,EAAX;AACAE,gBAAAA,SAAS,CAACd,IAAV,GAAiB,CAAjB;AACA,uBAAOlD,MAAM,CAACI,OAAP,CAAe6D,iBAAf,CAAiCH,EAAjC,CAAP;;AAEF,mBAAK,CAAL;AACEjB,gBAAAA,IAAI,GAAGmB,SAAS,CAACZ,IAAjB;AACA,uBAAOY,SAAS,CAACX,MAAV,CAAiB,QAAjB,EAA2BR,IAAI,GAAGA,IAAI,CAACS,OAAL,EAAH,GAAoB,IAAnD,CAAP;;AAEF,mBAAK,CAAL;AACA,mBAAK,KAAL;AACE,uBAAOU,SAAS,CAACT,IAAV,EAAP;AAZJ;AAcD;AACF,SAjBM,EAiBJK,QAjBI,EAiBM,IAjBN,CAAP;AAkBD,OApBD,CAFmC,CAAnC;;AAwBA,eAASF,UAAT,CAAoBQ,GAApB,EAAyBC,GAAzB,EAA8B;AAC5B,eAAOR,WAAW,CAACpC,KAAZ,CAAkB,IAAlB,EAAwBD,SAAxB,CAAP;AACD;;AAED,aAAOoC,UAAP;AACD,KA9BW;AAnCJ;AADY,CAAxB;AAqEAhE,OAAO,CAACE,iBAAR,GAA4BA,iBAA5B","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mutationResolvers = exports.mutationTypes = void 0;\n\nvar _apolloServerExpress = require(\"apollo-server-express\");\n\nvar _model = _interopRequireDefault(require(\"./_model\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  extend type Mutation {\\n    addBook(title: String!, author: String!): Book\\n    deleteBook(id: String!): Book\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nvar Mutation = (0, _apolloServerExpress.gql)(_templateObject());\n\nvar mutationTypes = function mutationTypes() {\n  return [Mutation];\n};\n\nexports.mutationTypes = mutationTypes;\nvar mutationResolvers = {\n  Mutation: {\n    addBook: function () {\n      var _addBook = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(_, _ref) {\n        var title, author, book;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                title = _ref.title, author = _ref.author;\n                _context.next = 3;\n                return _model.default.create({\n                  title: title,\n                  author: author\n                });\n\n              case 3:\n                book = _context.sent;\n                return _context.abrupt(\"return\", book.toGraph());\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function addBook(_x, _x2) {\n        return _addBook.apply(this, arguments);\n      }\n\n      return addBook;\n    }(),\n    deleteBook: function () {\n      var _deleteBook = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(_, _ref2) {\n        var id, book;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                id = _ref2.id;\n                _context2.next = 3;\n                return _model.default.findByIdAndRemove(id);\n\n              case 3:\n                book = _context2.sent;\n                return _context2.abrupt(\"return\", book ? book.toGraph() : null);\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function deleteBook(_x3, _x4) {\n        return _deleteBook.apply(this, arguments);\n      }\n\n      return deleteBook;\n    }()\n  }\n};\nexports.mutationResolvers = mutationResolvers;"],"file":"_mutation.js"}